<html>

<head>
    <meta charset="utf-8">
    <script src="https://d3js.org/d3.v4.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <title>hm8</title>
    <style>
        html,
        body,
        {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
        }
        
        body {
            background-color: rgba(0, 0, 0, 0);
            font-family: Optima, Segoe, Segoe UI, Candara, Calibri, Arial, sans-serif;
            color: black;
            display: inline;
            text-align: center;
            list-style-position: inside;
        }
        
        p {
            font-size: 20px
        }
        
        div.row {
            position: relative;
            margin-right: 50px;
            margin-left: 20px;
            
            max-height: 1000px;
            text-align: left;
        }
        
        div.svg {
            height: 900px;
            width: auto;
        }
    </style>
</head>

<body>
    <h1>Homework8 <br/><u>Celebrity Death of America</u></h1><br/><br/>



    <div class="row">
        <div class="col-xs-6 col-md-6 col-sm-12">
           <div id="chart">
               <style>
                   svg {
                        width: 900px;
                        height: 750px;
                    }
               </style>
            <script>
                var data = [{
                        name: "AIDS",
                        value: 33,
                        percentage: '3.13%'
                    }, {
                        name: "Car Accident",
                        value: 73,
                        percentage: '6.93%'
                    }, {
                        name: "Enthanasia",
                        value: 6,
                        percentage: '0.57%'
                    }, {
                        name: "Suicide",
                        value: 267,
                        percentage: '25.36%'
                    }, {
                        name: "Assassination",
                        value: 103,
                        percentage: '9.78%'
                    }, {
                        name: "Drowning",
                        value: 20,
                        percentage: '1.90%'
                    }, {
                        name: "Execution",
                        value: 117,
                        percentage: '11.11%'
                    }, {
                        name: "Tuberculosis",
                        value: 88,
                        percentage: '8.36%'
                    }, {
                        name: "Cancer",
                        value: 194,
                        percentage: '18.42%'
                    }, {
                        name: "Drug Overdose",
                        value: 127,
                        percentage: '12.06%'
                    }, {
                        name: "Plane Crash",
                        value: 25,
                        percentage: '2.37%'
                    }, ];
                    var text = "";

                    var width = 470;
                    var height = 470;
                    var thickness = 100;
                    var duration = 750;

                    var radius = Math.min(width, height) / 2;
                    var color = d3.scaleOrdinal(d3.schemeCategory10);

                    var svg = d3.select("#chart")
                        .append('svg')
                        .attr('class', 'pie')
                        .attr('width', width)
                        .attr('height', height);

                    var g = svg.append('g')
                        .attr('transform', 'translate(' + (width / 2) + ',' + (height / 2) + ')');

                    var arc = d3.arc()
                        .innerRadius(radius - thickness)
                        .outerRadius(radius);

                    var pie = d3.pie()
                        .value(function(d) {
                            return d.value;
                        })
                        .sort(null);

                    var path = g.selectAll('path')
                        .data(pie(data))
                        .enter()
                        .append("g")
                        .on("mouseover", function(d) {
                            let g = d3.select(this)
                                .style("cursor", "pointer")
                                .style("fill", "black")
                                .append("g")
                                .attr("class", "text-group");

                            g.append("text")
                                .attr("class", "name-text")
                                .text(`${d.data.name}`)
                                .attr('text-anchor', 'middle')
                                .attr('dy', '-1.2em');

                            g.append("text")
                                .attr("class", "value-text")
                                .text(`${d.data.value}`)
                                .attr('text-anchor', 'middle')
                                .attr('dy', '.6em');

                            g.append("text")
                                .attr("class", "name-text")
                                .text(`${d.data.percentage}`)
                                .attr('text-anchor', 'middle')
                                .attr('dy', '3.6em');
                        })
                        .on("mouseout", function(d) {
                            d3.select(this)
                                .style("cursor", "none")
                                .style("fill", color(this._current))
                                .select(".text-group").remove();
                        })
                        .append('path')
                        .attr('d', arc)
                        .attr('fill', (d, i) => color(i))
                        .on("mouseover", function(d) {
                            d3.select(this)
                                .style("cursor", "pointer")
                                .style("fill", "black");
                        })
                        .on("mouseout", function(d) {
                            d3.select(this)
                                .style("cursor", "none")
                                .style("fill", color(this._current));
                        })
                        .each(function(d, i) {
                            this._current = i;
                        });


                    g.append('text')
                        .attr('text-anchor', 'middle')
                        .attr('dy', '.35em')
                        .text(text);
            </script>
            </div>
        </div>
        <div class="col-xs-6 col-md-6 col-sm-12">
            <p>The website called <a href="https://www.thefamouspeople.com">famouspeople.com</a> collected the information of nearly all the famous people in the western countries, including the recent buzzing instagram stars and youtubers. From its database,
                you can conveniently find the basic information like birthday, family background and even the personality type like <a href="https://www.16personalities.com/istp-personality">ISTP</a> for Kristen Stewart. To search more easily, the website
                categoriez the data into different categories. Users can filter the famous people's profile by profession, gender, nationality and even zodiac sign. Generally, the website provides easy access to the celebrity profile. </p>
            <p>To make tribute to the celebrities passed away, the website also has a collection of dead famous people and divide them based on the criteria of the death cause. Recording 1054 dead celebrities in total, suicide ranks the top among the 11
                death causes as 267 famous people committed suicide. And it is even higher than the rate of famous people died naturally because of cancer.</p>
        </div>
    </div>
</body>

</html>
